{"version":3,"file":"vacantes-b717f00c.js","sources":["../../../../stores/vacantes.ts","../../../../stores/candidato.ts","../../../../pages/vacantes.vue"],"sourcesContent":["import { defineStore } from 'pinia'  \n \nexport const useVacantesStore = defineStore('vacantes', {\n    // a function that returns a fresh state - STATE ES COMO DATA\nstate: () => ({ \n    vacantes: [] \n}),\n// optional getters GETTER SON COMO COMPUTED \ngetters: {\n    getVacantes: (state) => { \n        return state.vacantes \n    },   \n},\n// optional   ACTIONS SON COMO METHODS\nactions: {\n        async fetchVacantes(){\n                try { \n                    const { getItems } = useDirectusItems();  \n\n                    const vacantes = await getItems(\n                        { collection: \"bolsa_trabajo\", params : { fields: [\"*\",\"picture.*\"] }});\n                        this.vacantes = vacantes\n                } catch (error) {\n                        console.error(error); \n                }\n            }, \n    },\n})  ","import { defineStore } from 'pinia'; \nimport { ref, computed } from 'vue'; \nexport const useCandidatoStore = defineStore('candidato',  () => { \n\n    const { createItems } = useDirectusItems();\n    const nombre = ref('');\n    const apellido = ref('');\n    const telefono = ref('');\n    const email = ref('');\n    const cv = ref(null);\n\n    function handleFileUpload(event) {\n        cv.value = event.target.files[0];\n    }\n\nasync function handleSubmit() { \n    try {\n        // Upload the file to the Directus file library \n        const formData = new FormData(); \n        formData.append('cv',  cv.value); \n        const fileResponse =  await fetch('https://admin.intermarketing.com.pa/files', {\n                method: 'POST',\n                headers: {\n                'Authorization': 'uiN-pHJwLhUKcmbMCH8PXfJjKT9D5cfh',\n                'Accept-Encoding': 'multipart/form-data'\n                },\n                body: formData,\n            }).then(response => response.json())\n            .then(function (data) {\n                const itemResponse = createItems({\n                    collection: 'candidatos',\n                        items: {\n                            nombre: nombre.value,\n                            apellido: apellido.value, \n                            email: email.value,\n                            telefono: telefono.value,  \n                            cv:  data.data.id,\n                        },\n                    })   \n                console.log('esto es data', data.data.id)\n                console.log('item response', itemResponse)\n            })\n            .catch(error => console.error(error)) \n \n        const router = useRouter();  \n        router.push('/vacante-gracias/');    \n    }   catch (error) {\n        console.error(error);\n    }\n} \nreturn {\n        nombre,\n        apellido,\n        email,\n        telefono,\n        cv,\n        handleFileUpload,\n        handleSubmit\n    };\n\n});    ","<script setup>  \nimport { useVacantesStore } from '@/stores/vacantes' \nimport { useCandidatoStore } from '@/stores/candidato' \nimport { storeToRefs } from 'pinia'   \nimport { Form, Field, ErrorMessage } from 'vee-validate'; \nconst storeVacantes = useVacantesStore();  \nconst storeCandidato = useCandidatoStore();  \n\nconst vacantes = computed(() => {\n    return storeVacantes.vacantes\n}) \nconst candidato = computed(() => {\n    return storeCandidato\n}) \nonMounted(() => {\n    storeVacantes.fetchVacantes(); \n})  \nuseHead({\n        title: 'Lista de Vacantes | Hertz Rent a Car Panamá'\n    });\n</script> \n<template>\n<main>\n    <h2>Vacantes Abiertas:</h2> \n\n    <section class=\"card-wrap\" >\n        <article class=\"vacante\" v-for=\"vacante in vacantes\" :key=\"vacante.id\"> \n\n            <header>\n                <h3>{{ vacante.vacante}}</h3>\n                <h3>{{ vacante.area }}</h3>\n            </header>\n\n            <h4>Requisitos:</h4>\n            <ul>\n                <li v-for=\"requisito in vacante.requisitos\">\n                    {{ requisito }} \n                </li>\n            </ul>\n                <h4>Funciones:</h4>\n            <ul>\n                <li v-for=\"funcion in vacante.funciones\" >\n                    {{ funcion }}\n                </li> \n            </ul>\n                <h4>Ofrecemos:</h4>\n            <ul>\n                <li v-for=\"ofrecemos in vacante.ofrecemos\">\n                    {{ ofrecemos }}\n                </li>\n            </ul>\n        </article> \n    </section> \n\n\n \n\n    <section class=\"candidato\"> \n        <h3>Dejanos tu Información</h3>  \n\n\n\n \n    <div>\n        <fieldset>\n            <p>\n                <label for=\"nombre\">Nombre</label>\n                <input type=\"text\" v-model=\"candidato.nombre\" id=\"nombre\" name=\"nombre\" required placeholder=\"Nombre\" />\n              </p>\n              <p>\n                <label for=\"apellido\">Apellido</label>\n                <input type=\"text\" v-model=\"candidato.apellido\" id=\"apellido\" name=\"apellido\" required placeholder=\"Apellido\" />\n              </p>\n              <p>\n                <label for=\"telefono\">Teléfono</label>\n                <input type=\"tel\" v-model=\"candidato.telefono\" id=\"telefono\" name=\"telefono\" required placeholder=\"Teléfono\" pattern=\"\\d+\" title=\"Solo se permiten números en el teléfono\" />\n              </p>\n              <p>\n                <label for=\"email\">Correo electrónico</label>\n                <input type=\"email\" v-model=\"candidato.email\" id=\"email\" name=\"email\" required placeholder=\"Correo\" />\n              </p>\n              <p>\n                <label for=\"cv\">Hoja de vida(solo archivos docx o PDF):</label>\n                <input type=\"file\" ref=\"cvInput\" @change=\"candidato.handleFileUpload\" required />\n              </p>\n        </fieldset>  \n         \n        <button  type=\"submit\" @click=\"candidato.handleSubmit\">Enviar</button>\n    </div>   \n    </section>\n\n</main>\n</template>\n\n<style scoped lang=\"scss\">\n.warning{\n    font-size: 12px;\n    color: red;\n}\nmain { \n    h2 {\n        font-size: 24px;\n        font-weight: bold;\n        margin: 10px;\n        \n    }\n    .candidato {\n        h3 {\n            margin-bottom: 10px;\n            margin-top: 10px;\n            font-size:1.5em;\n            font-weight: bold;\n            justify-content: center;\n        } \n        background-color: white;\n        padding: 10px; \n        \n        margin: 0 auto;\n        margin-top: 10px;\n        margin-bottom: 10px;\n        background-color:white;\n        box-shadow: 5px 5px 5px rgba(65, 65, 65, 0.308);\n        border-radius: 5px; \n        line-height: 20px; \n        p{\n            display: flex;\n            flex-direction: column;\n            margin-bottom:5px;\n        }\n        button {\n            background-color:#000000;\n            color: #FFD115;\n            padding: 5px;\n            border-radius: 5px;\n        }\n    }\n}\n.card-wrap{\n    display: flex;\n    flex-direction: column;\n\n}\n.vacante { \n    display: flex;\n    flex-direction: column; \n    padding: 10px; \n    margin: 5px;\n    margin-top: 10px;\n    margin-bottom: 10px;\n    background-color:white;\n    box-shadow: 5px 5px 5px rgba(65, 65, 65, 0.308);\n    border-radius: 5px; \n    line-height: 20px; \n    header {\n        justify-content: center;\n    }   \n    h3 {\n        margin-bottom: 10px;\n        margin-top: 10px;\n        font-size:1.5em;\n        font-weight: bold;\n        justify-content: center;\n    } \n    h4 {\n        margin-bottom: 10px;\n        margin-top: 10px;\n        font-size:1.2em;\n        font-weight: bold;\n    } \n    ul li {\n        font-size: 0.9em;\n    }\n\n \n}  \n// Desktop  \n@media screen and (min-width: 768px) { \n    .card-wrap{ \n        flex-direction: row;\n    \n    }\n    .vacante {\n        max-width: 350px;\n    }\n    .candidato {\n        max-width: 500px; \n    }\n} \n</style>\n"],"names":["vacantes"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAEO,MAAA,mBAAA,YAAA,YAAA;AAAA;AAAA,EAAiD,OAAA,OAAA;AAAA,IAE1C,UAAA,CAAA;AAAA,EACC;AAAA;AAAA,EACf,SAAA;AAAA,IAES,aAAA,CAAA,UAAA;AAED,aAAA,MAAA;AAAA,IAAa;AAAA,EACjB;AAAA;AAAA,EACJ,SAAA;AAAA,IAES,MAAA,gBAAA;AAEO,UAAA;AACI,cAAA,EAAA,aAAA;AAEA,cAAAA,YAAA,MAAA;AAAA,UAAuB,EAAA,YAAA,iBAAA,QAAA,EAAA,QAAA,CAAA,KAAA,WAAA,IAAA;AAAA,QACkD;AACrE,aAAA,WAAAA;AAAA,MAAgB,SAAA,OAAA;AAEhB,gBAAA,MAAA,KAAA;AAAA,MAAmB;AAAA,IAC3B;AAAA,EACJ;AAEZ,CAAA;ACzBO,MAAA,oBAAA,YAAA,aAAA,MAAA;AAEH,QAAA,EAAA,gBAAA;AACA,QAAA,SAAA,IAAA,EAAA;AACA,QAAA,WAAA,IAAA,EAAA;AACA,QAAA,WAAA,IAAA,EAAA;AACA,QAAA,QAAA,IAAA,EAAA;AACA,QAAA,KAAA,IAAA,IAAA;AAEA,WAAA,iBAAA,OAAA;AACI,OAAA,QAAA,MAAA,OAAA,MAAA,CAAA;AAAA,EAA+B;AAGvC,iBAAA,eAAA;AACI,QAAA;AAEI,YAAA,WAAA,IAAA;AACA,eAAA,OAAA,MAAA,GAAA,KAAA;AACA,YAAA,eAAA,MAAA,MAAA,6CAAA;AAAA,QAA+E,QAAA;AAAA,QAC/D,SAAA;AAAA,UACC,iBAAA;AAAA,UACQ,mBAAA;AAAA,QACE;AAAA,QACnB,MAAA;AAAA,MACM,CAAA,EAAA,KAAA,CAAA,aAAA,SAAA,MAAA,EAAA,KAAA,SAAA,MAAA;AAGN,cAAA,eAAA,YAAA;AAAA,UAAiC,YAAA;AAAA,UACjB,OAAA;AAAA,YACD,QAAA,OAAA;AAAA,YACY,UAAA,SAAA;AAAA,YACI,OAAA,MAAA;AAAA,YACN,UAAA,SAAA;AAAA,YACM,IAAA,KAAA,KAAA;AAAA,UACJ;AAAA,QACnB,CAAA;AAER,gBAAA,IAAA,gBAAA,KAAA,KAAA,EAAA;AACA,gBAAA,IAAA,iBAAA,YAAA;AAAA,MAAyC,CAAA,EAAA,MAAA,CAAA,UAAA,QAAA,MAAA,KAAA,CAAA;AAIjD,YAAA,SAAA;AACA,aAAA,KAAA,mBAAA;AAAA,IAA+B,SAAA,OAAA;AAE/B,cAAA,MAAA,KAAA;AAAA,IAAmB;AAAA,EACvB;AAEJ,SAAA;AAAA,IAAO;AAAA,IACC;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACA;AAGR,CAAA;;;;;;ACvDA,UAAA,gBAAA,iBAAA;AACA,UAAA,iBAAA,kBAAA;AAEA,UAAAA,YAAA,SAAA,MAAA;AACA,aAAA,cAAA;AAAA,IACA,CAAA;AACA,UAAA,YAAA,SAAA,MAAA;AACA,aAAA;AAAA,IACA,CAAA;AAIA,YAAA;AAAA,MACA,OAAA;AAAA,IACA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}